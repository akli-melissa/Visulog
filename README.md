# Visulog

*Tool for analysis and visualization of git logs*

## Presentation

Visulog a tool for analyzing contributions from the members of a team working a a same given project hosted on a git repository. Its goal is to assist teachers for individual grading of students working as a team.

This tool can:

- compute a couple of relevant indicators such as:
  - number of lines or characters added/deleted/changed
  - number of commits
  - number of merge commits
- analyze the variations of these indicators in time: for instance sum then in a week, compute a daily average or an average in a sliding window, ...
- visualize the indicators as charts (histograms, pie charts, etc.) embedded in a generated web page.

### Lien de la video de presentation

[![IMAGE ALT TEXT HERE](https://img.youtube.com/vi/g3y8AT_ikr0/0.jpg)](https://www.youtube.com/watch?v=g3y8AT_ikr0)

## Already existing similar tools

- [gitstats](https://pypi.org/project/gitstats/) 

## Technical means

- The charts are generated by a third party library (maybe a Java library generating pictures, or a javascript library which dynamically interprets the data).
- The data to analyze can be obtained using calls to the git CLI. For instance "git log", "git diff --numstat", and so on.

## Architecture

Visulog contains the following modules:

- data types for storing raw data directly extracted from git history, with relevant parsers
- a generator of numerical series (for the indicators mentioned above)
- a generator of web pages
- a command line program that calls the other modules using the provided command line parameters
- a shared module for configuration object definitions

## Usage

### Building the project

1. clone the repository
    ```
    git clone git@gaufre.informatique.univ-paris-diderot.fr:adegorre/visulog.git
    ```
   or
    ```
    git clone https://gaufre.informatique.univ-paris-diderot.fr/adegorre/visulog.git
    ```
2. Enter the project folder
    ```
    cd visulog
    ```
3. Only if you are on a SCRIPT computer (in one of the TPÂ rooms):
    ```
    source SCRIPT/envsetup
    ```
    This will setup the GRADLE_OPTS environment variable so that gradle uses the SCRIPT proxy for downloading its dependencies. It will also use a custom trust store (the one installed in the system is apparently broken... ).
4. run gradle wrapper (it will download all dependencies, including gradle itself)
    ```
    ./gradlew build
    ```
### Running the software

Currently, it can be run through gradle too. In order to pass program arguments, you need to pass them behind `--args`:
```
./gradlew run --args='here are my args'
```

For instance

```
./gradlew run --args='. --addPlugin=countCommits'
```

Will count the commits of each author in the current branch of the git repository present in the current folder (".").
### To show the GIU
```
./gradlew run --args='showgui'
```
It will show the interface in wich the user will be able to chose a command to run
To run a command you will first chose the command that you want, then click add and run the command
You can chose the path if you want (by default it is '.')
to save or load configurations click save or load in the menu of the GIU
### All the commands
```
./gradlew run --args='showgui'
```
To show the interface
```
./gradlew run --args='. --addPlugin=countCommits'
```
Count the number of commits per person
```
./gradlew run --args='. --addPlugin=countCommits/10-12-2021/10-01-2022'
```
Count the number of commits per person between the 10-12-2021 and 10-01-2022
```
./gradlew run --args='. --addPlugin=countLines'
```
Count the lines added and deleted in each file of the project
```
./gradlew run --args='. --addPlugin=countMergeCommits'
```
Count the number of merge commits per person
```
./gradlew run --args='. --addPlugin=countCommitsPerDayOfWeek'
```
Count the number of commits per day 
```
./gradlew run --args='. --addPlugin=countCommitsPerDayOfMonth'
```
Count the number of commits per day of month
```
./gradlew run --args='. --addPlugin=countCommitsPerHourOfDay'
```
Count the number of commits per Hour of day
```
./gradlew run --args='. --addPlugin=countLinesPerAuthor'
```
Count the number of lines added and deleted per user in each file of the project
```
./gradlew run --args='. --addPlugin=userStats/Salhi_Younes'
```
Show the stats of the user "Salhi Younes" (number of commits,merge commits,lines added and lines deleted) instead of space you will have to put '_'
```
./gradlew run --args='. --loadConfigFile=fileName'
```
Load the configuration in the file 'fileName' and it will run them
```
./gradlew run --args='. --justSaveConfigFile=fileName:conf1,conf2,..'
```
Save the conf1,conf2,.. in the file fileName, you will have to separate between the file name and the configurations with ':' and between all the configurations with ','
